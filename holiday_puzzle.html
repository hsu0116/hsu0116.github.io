<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>도서를 훔친 범인을 찾아라 - 공휴일 퍼즐</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Dark background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-image: linear-gradient(to bottom right, #2d3748, #1a202c);
            color: #e2e8f0;
        }
        .puzzle-container {
            background-color: #2d3748;
            border-radius: 1.5rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
            padding: 3rem;
            max-width: 800px;
            width: 100%;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 2px solid #4a5568;
        }
        .story-text {
            font-size: 1.125rem; /* Text-lg */
            line-height: 1.75;
            color: #cbd5e1;
            margin-top: 1.5rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .dialogue-box {
            background-color: #3a475a; /* Slightly lighter dark background for dialogue */
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-top: 1rem;
            margin-bottom: 1rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-align: left;
            width: 90%;
            max-width: 600px;
        }
        .dialogue-speaker {
            font-size: 1.1rem;
            font-weight: 700;
            color: #fbd38d; /* Light orange for speaker name */
            margin-bottom: 0.5rem;
        }
        .dialogue-text {
            font-size: 1.25rem; /* Text-xl */
            line-height: 1.6;
            color: #e2e8f0;
        }
        .puzzle-sequence {
            font-family: 'Courier New', monospace; /* Monospace font for numbers */
            font-size: 2.5rem; /* Large font size for sequence */
            font-weight: 800;
            color: #facc15; /* Yellow for emphasis */
            margin-top: 2rem;
            padding: 1rem;
            background-color: #334155; /* Slate-700 background */
            border-radius: 0.75rem;
            letter-spacing: 0.1em; /* Slight letter spacing */
            word-break: break-all; /* Ensure long sequence wraps */
        }
        .input-focus:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
        }
        .button-glow {
            transition: all 0.3s ease;
        }
        .button-glow:hover {
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.6); /* Indigo glow */
            transform: translateY(-3px);
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
            .puzzle-container {
                padding: 2rem;
            }
            .dialogue-box {
                padding: 1rem;
                margin-top: 1rem;
                margin-bottom: 1rem;
            }
            .dialogue-text {
                font-size: 1.1rem;
            }
            .puzzle-sequence {
                font-size: 1.8rem;
                letter-spacing: 0.05em;
            }
        }
    </style>
</head>
<body>
    <div class="puzzle-container">
        <h1 class="text-4xl md:text-5xl font-extrabold text-gray-100 mb-6 tracking-tight">
            최 학생의 마지막 단서
        </h1>

        <p class="story-text mb-4 text-center">
            전등 퍼즐을 해결하자마자, 당신은 최 학생을 붙잡았습니다.
            책의 행방을 묻자, 그는 울먹이며 충격적인 진술을 합니다.
        </p>

        <!-- 최 학생 대사 -->
        <div class="dialogue-box">
            <p class="dialogue-speaker">최 학생:</p>
            <p class="dialogue-text">"흐흐흑... 저는 몰라요! 단지 어떤 사람이 그 책을 가져오면 된다고 용돈을 준다고 해서... 아! 그 사람이 혼잣말로 빨리 쉬었으면 좋겠다고 했어요. 쉬는 날이 빨리 왔으면 좋겠다구요... 진짜 이거밖에 몰라요..이런 짓을 벌여서 죄송해요."</p>
        </div>

        <p class="story-text mt-6 font-semibold">
            최 학생의 진술과 함께 바닥에 떨어진 쪽지에서 알 수 없는 숫자들이 발견되었습니다.
            이것이 흑막이 남긴 다음 단서일까요?
        </p>

        <div class="puzzle-sequence">
            11315566815103109????
        </div>

        <p class="story-text mt-8 font-semibold">
            숫자의 규칙을 파악하여 '????'에 들어갈 네 자리 숫자를 입력하세요.
        </p>

        <div class="flex flex-col items-center space-y-4 mt-6 w-full max-w-sm">
            <input type="text" id="answerInput" placeholder="여기에 네 자리 숫자를 입력하세요..."
                   class="input-focus w-full p-3 border-2 border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 bg-gray-700 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 ease-in-out">
            <button id="submitButton"
                    class="button-glow bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                제출
            </button>
        </div>

        <p id="feedbackMessage" class="story-text mt-6 font-bold" style="display: none;"></p>
    </div>

    <script>
        const answerInput = document.getElementById('answerInput');
        const submitButton = document.getElementById('submitButton');
        const feedbackMessage = document.getElementById('feedbackMessage');

        // 정답: 1225 (12월 25일 - 크리스마스)
        const correctAnswer = "1225";

        submitButton.addEventListener('click', checkAnswer);
        answerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        function checkAnswer() {
            const userAnswer = answerInput.value.trim();
            feedbackMessage.style.display = 'none'; // 새로운 입력 시 피드백 메시지 숨기기

            if (userAnswer === correctAnswer) {
                feedbackMessage.textContent = "정답입니다! 다음 단서로 향하세요...";
                feedbackMessage.style.color = '#10B981'; // Green-500
                feedbackMessage.style.display = 'block';

                answerInput.disabled = true;
                submitButton.disabled = true;

                setTimeout(() => {
                    // 여기에 최종 반전 페이지의 HTML 파일 이름을 넣어주세요. (예: 'final_reveal_page.html')
                    alert('정답! 이제 진실이 밝혀질 시간입니다.'); // 임시 알림
                    // window.location.href = window.location.origin + '/final_reveal_page.html';
                }, 2000);
            } else {
                feedbackMessage.textContent = "오답입니다! 숫자의 규칙을 다시 찾아보세요.";
                feedbackMessage.style.color = '#EF4444'; // Red-500
                feedbackMessage.style.display = 'block';
                answerInput.value = ''; // 입력 필드 초기화
                answerInput.focus(); // 오답 후 입력 필드에 바로 포커스
            }
        }

        // 사용자가 입력 필드에 다시 입력하기 시작하면 피드백 메시지 숨기기
        answerInput.addEventListener('input', () => {
            if (feedbackMessage.style.display === 'block' && feedbackMessage.textContent.includes("오답입니다")) {
                feedbackMessage.style.display = 'none';
            }
        });
    </script>
</body>
</html>
