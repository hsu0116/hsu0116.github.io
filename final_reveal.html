<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>도서를 훔친 범인을 찾아라 - 최종 반전</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Dark background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-image: linear-gradient(to bottom right, #2d3748, #1a202c);
            color: #e2e8f0;
        }
        .reveal-container {
            background-color: #2d3748;
            border-radius: 1.5rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
            padding: 3rem;
            max-width: 800px;
            width: 100%;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 2px solid #ef4444; /* Red border for drama */
        }
        .story-text {
            font-size: 1.125rem; /* Text-lg */
            line-height: 1.75;
            color: #cbd5e1;
            margin-top: 1.5rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .diary-content-box {
            background-color: #3a475a;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-align: left;
            width: 90%;
            max-width: 600px;
            border-left: 5px solid #fbd38d; /* Orange accent */
        }
        .diary-content-text {
            font-size: 1.35rem; /* Text-xl or larger */
            line-height: 1.6;
            color: #e2e8f0;
            font-style: italic;
        }
        .dialogue-box {
            background-color: #3a475a;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-top: 1rem;
            margin-bottom: 1rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-align: left;
            width: 90%;
            max-width: 600px;
        }
        .dialogue-speaker {
            font-size: 1.1rem;
            font-weight: 700;
            color: #fbd38d; /* Light orange for speaker name */
            margin-bottom: 0.5rem;
        }
        .dialogue-text {
            font-size: 1.25rem; /* Text-xl */
            line-height: 1.6;
            color: #e2e8f0;
        }
        .final-question {
            font-size: 1.8rem; /* Larger for impact */
            font-weight: 800;
            color: #facc15; /* Yellow for emphasis */
            margin-top: 2rem;
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
        }
        .input-focus:focus {
            outline: none;
            border-color: #ef4444; /* Red focus */
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.3);
        }
        .button-glow {
            transition: all 0.3s ease;
        }
        .button-glow:hover {
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.6); /* Red glow */
            transform: translateY(-3px);
        }
        .success-message {
            font-size: 2rem;
            font-weight: 800;
            color: #34d399; /* Green for success */
            margin-top: 2rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            animation: fadeInScale 1.5s ease-out forwards;
        }
        .shocking-reveal {
            font-size: 2.5rem;
            font-weight: 800;
            color: #ef4444; /* Bright red for shocking reveal */
            margin-top: 2.5rem;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.8);
            animation: pulseShock 2s infinite alternate, fadeInScale 2s ease-out forwards;
        }
        .end-message {
            font-size: 1.5rem;
            color: #cbd5e1;
            margin-top: 2rem;
            line-height: 1.8;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes pulseShock {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
            .reveal-container {
                padding: 2rem;
            }
            .story-text, .diary-content-text, .dialogue-text {
                font-size: 1rem;
            }
            .final-question {
                font-size: 1.5rem;
            }
            .success-message {
                font-size: 1.5rem;
            }
            .shocking-reveal {
                font-size: 1.8rem;
            }
            .end-message {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="reveal-container">
        <h1 class="text-4xl md:text-5xl font-extrabold text-gray-100 mb-6 tracking-tight">
            최종 반전: 진범의 정체
        </h1>

        <p class="story-text mb-4 text-center">
            찢어진 일기장의 앞면을 확인한 당신은 조심스럽게 뒷장을 넘겼습니다.
            그리고 그곳에서 충격적인 내용이 당신의 눈에 들어왔습니다.
        </p>

        <div class="diary-content-box">
            <p class="diary-content-text">
                <br>
                드디어 결심했다. 이 지긋지긋한 도서관 문을 빨리 닫고 쉬고 싶어. 내일, 이 사서에게 훼방을 놓아 자작극을 벌여야겠다. 아무도 눈치채지 못하게... 모두가 속아 넘어갈 거야."
            </p>
        </div>

        <p class="story-text mt-6 font-semibold">
            일기 내용을 본 사람들은 경악하며 이 사서를 지목했습니다.
        </p>

        <div class="dialogue-box">
            <p class="dialogue-speaker">박제비:</p>
            <p class="dialogue-text">"이것 보세요! '도서관 문을 빨리 닫고 쉬고 싶다'니! 최 학생이 말했던 흑막이 바로 이 사서 당신이었군요!"</p>
        </div>
        <div class="dialogue-box">
            <p class="dialogue-speaker">김손님:</p>
            <p class="dialogue-text">"일기에 범행을 작심한 내용이 적혀있는데, 일기의 주인이 당연히 범인이지! 이 사서 당신이 진범이야!"</p>
        </div>
        <div class="dialogue-box">
            <p class="dialogue-speaker">이사서:</p>
            <p class="dialogue-text">"말도 안 돼요! 저는 결백합니다! 이 일기는 제 것이 아니에요! 제발, 제 말을 믿어주세요!"</p>
        </div>

        <p class="story-text mt-6 font-semibold text-red-400">
            이 사서는 억울함을 토로했지만, 증거가 너무 명확했습니다.
            결국 경찰이 출동하여 이 사서는 붙잡혀 경찰서로 연행되었습니다.
            사건은 해결된 것처럼 보였습니다. 하지만...
        </p>

        <p class="final-question">
            그러나 진범은 따로 있어. 진짜 일기의 주인..너는 누가 진범인지 알지? 진범은 누구야?
        </p>

        <div class="flex flex-col items-center space-y-4 mt-6 w-full max-w-sm">
            <input type="text" id="answerInput" placeholder="진범의 이름을 입력하세요..."
                   class="input-focus w-full p-3 border-2 border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 bg-gray-700 focus:ring-red-500 focus:border-red-500 transition duration-200 ease-in-out">
            <button id="submitButton"
                    class="button-glow bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                정답 제출
            </button>
        </div>

        <p id="feedbackMessage" class="story-text mt-6 font-bold" style="display: none;"></p>
        <p id="finalRevealMessage" class="shocking-reveal" style="display: none;"></p>
        <p id="endGameMessage" class="end-message" style="display: none;"></p>
    </div>

    <script>
        const answerInput = document.getElementById('answerInput');
        const submitButton = document.getElementById('submitButton');
        const feedbackMessage = document.getElementById('feedbackMessage');
        const finalRevealMessage = document.getElementById('finalRevealMessage');
        const endGameMessage = document.getElementById('endGameMessage');
        // resetButton 상수는 제거되었습니다.

        // 정답: 홍수경
        const correctAnswer = "홍수경";

        submitButton.addEventListener('click', checkAnswer);
        answerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        function checkAnswer() {
            const userAnswer = answerInput.value.trim();
            feedbackMessage.style.display = 'none';
            finalRevealMessage.style.display = 'none';
            endGameMessage.style.display = 'none';
            // resetButton.style.display = 'none'; (제거됨)

            if (userAnswer === correctAnswer) {
                feedbackMessage.textContent = "정답입니다!";
                feedbackMessage.style.color = '#10B981'; // Green
                feedbackMessage.style.display = 'block';

                answerInput.disabled = true;
                submitButton.disabled = true;

                setTimeout(() => {
                    finalRevealMessage.textContent = "맞아... 그 진범은 바로 너, 홍수경이었어!";
                    finalRevealMessage.style.display = 'block';

                    setTimeout(() => {
                        endGameMessage.innerHTML = "당신은 도서관 문을 일찍 닫고 남자친구와 데이트를 하기 위해서, 도서관 책을 훔치고 다른 이들에게 죄를 뒤집어씌웠던 것입니다. 이 모든 퍼즐은 당신이 꾸민 자작극이었죠...<br><br>성공적인 도주를 축하합니다!";
                        endGameMessage.style.display = 'block';
                    }, 3000); // 3초 후 엔딩 메시지 및 리셋 버튼 표시

                    
                }, 2000); // 2초 후 최종 반전 메시지 표시
            window.location.href = window.location.origin + '/love.html';


            } else {
                feedbackMessage.textContent = "틀렸어. 다시 생각해봐.";
                feedbackMessage.style.color = '#EF4444'; // Red
                feedbackMessage.style.display = 'block';
                answerInput.value = '';
                answerInput.focus();
            }
        }
        // resetButton.addEventListener (제거됨)
    </script>
</body>
</html>
